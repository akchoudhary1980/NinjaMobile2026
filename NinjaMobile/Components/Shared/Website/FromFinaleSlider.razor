<MudGrid Spacing="1" Class="marquee-container">

    <MudItem xs="12" sm="12">
        <div class="hero-text-box1">
            <div class="hero-hosting-text1">
                From feast <br />
                <span><b class="hero-made-text1">to</b>Finale</span>
            </div>
        </div>
        <div>
            <span class="hero-para1">We’ve Got It Covered</span>
        </div>
    </MudItem>


    <MudItem xs="12" sm="12" Class="mt-2">
        <div class="marquee">
            <div class="marquee-content">

                <MudStack Spacing="3" Row="true" AlignItems="AlignItems.Center">
                    <ExploreFood />
                    <ExploreFood />
                </MudStack>

            </div>
        </div>
    </MudItem>
</MudGrid>

<div class="zig-indicators">
    @for (int i = 0; i < 3; i++)
    {
        <span class="zig-dot @(i == activeDot ? "active" : "")"></span>
    }
</div>

@code {
    private int activeDot = 0;
    private System.Timers.Timer? _timer;

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            _timer = new System.Timers.Timer(14000); // ⏱ 3 sec
            _timer.Elapsed += (_, _) =>
            {
                activeDot = (activeDot + 1) % 3;
                InvokeAsync(StateHasChanged);
            };
            _timer.Start();
        }
    }

    public void Dispose()
    {
        _timer?.Dispose();
    }
}

<style>

    .marquee-container {
        position: relative;
    }

    .marque-blur-circle {
        position: absolute;
        width: 625px;
        height: 625px;
        top: 20px;
        left: -219px;
        border-radius: 50%;
        background-color: #FF6F61;
        filter: blur(250px);
        opacity: 0.1;
    }

    .marquee {
        overflow: hidden;
        white-space: nowrap;
        width: 100%;
    }

    .marquee-content {
        display: inline-flex;
        animation: scroll 30s linear infinite;
    }

    .marquee-icon-wrapper {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 840px;
        height: 360px;
        margin: 10px;
        padding: 64px;
        background-color: #ffffff;
        border-radius: 30px;
        padding: 64px;
        background-image: url('/images/web-content/quoet-vector.svg'); /* your SVG */
        background-repeat: no-repeat;
        background-position: top 40px right 40px;
    }

    .marquee-client-name {
        color: #171717;
    }

        .marquee-client-name h6 {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 0px;
        }

    .marquee-client-designation {
        color: #737373;
    }

        .marquee-client-designation p {
            font-size: 16px;
            margin-bottom: 0px;
        }

    .marquee-content-area {
        font-family: Source Sans 3;
        font-weight: 400;
        font-style: normal;
        font-size: 24px;
        line-height: 30px;
        letter-spacing: -2%;
        text-wrap: auto;
    }

    .marque-heading {
        margin-bottom: 64px;
    }

        .marque-heading h2 {
            font-family: Playfair Display;
            font-weight: 400;
            font-style: Italic;
            font-size: 88px;
            line-height: 100%;
            letter-spacing: -2%;
            text-align: center;
            margin-bottom: 0px;
        }


    .hero-text-box1 {
        display: flex;
        align-items: center;
        justify-content: center;
        color: #111;
        font-family: "Playfair Display";
        font-size: 48px;
        font-style: italic;
        font-weight: 400;
        line-height: normal;
        letter-spacing: -0.96px;
    }

    .hero-hosting-text1 {
        font-family: 'Playfair Display', serif;
        font-size: 56px;
        font-weight: 400;
        font-style: italic;
        color: #111111;
        letter-spacing: -2%;
        line-height: 100%;
        text-align: left;
    }

    .hero-made-text1 {
        font-family: 'Playfair Display', serif;
        font-size: 48px;
        font-weight: 500;
        font-style: italic;
        color: #111111;
        letter-spacing: -2%;
        line-height: 100%;
        vertical-align: top;
        display: inline-block;
        padding-left:20px;
    }

    .hero-para1 {
        width: 159px;
        height: 25.012px;
        color: #111;
        font-size: 20px;
        font-style: italic;
        font-weight: 400;
        line-height: normal;
        letter-spacing: -0.4px;
        padding-left: 101px;
    }

    .zig-indicators {
        display: flex;
        justify-content: center;
        gap: 8px;
        padding-top: 32px;
        padding-bottom: 14px;
    }

    .zig-dot {
        width: 18px;
        height: 4px;
        border-radius: 999px;
        background-color: #d9d9d9; /* inactive */
        transition: all 0.3s ease;
    }

        .zig-dot.active {
            background-color: #000000; /* active */
            width: 28px; /* slightly longer */
        }
</style>



@code {
    private Breakpoint _currentBreakpoint;
    private List<CardModel>
    Cards = new()
    {
    new("Mark Roberts", "Working with DigitX was a pleasure. Their web design team created a stunning website that perfectly captured our brand's essence. The feedback from our customers has been overwhelmingly positive.","mark.png"),
    new("Jena Johns", "Working with DigitX was a pleasure. Their web design team created a stunning website that perfectly captured our brand's essence. The feedback from our customers has been overwhelmingly positive.","jena.png"),
            };

    private void OnBreakpointChanged(Breakpoint breakpoint)
    {
        _currentBreakpoint = breakpoint;
    }
    private List<List<CardModel>> GetSlides()
    {
        int cardsPerSlide = _currentBreakpoint < Breakpoint.Md ? 1 : 2;
        var slides = new List<List<CardModel>>();

        for (int i = 0; i < Cards.Count; i += cardsPerSlide)
        {
            slides.Add(Cards.Skip(i).Take(cardsPerSlide).ToList());
        }

        return slides;
    }
    public class CardModel
    {
        public string Title { get; set; }
        public string Description { get; set; }
        public string Picture { get; set; }

        public CardModel(string title, string description, string picture)
        {
            Title = title;
            Description = description;
            Picture = picture;
        }
    }
}
