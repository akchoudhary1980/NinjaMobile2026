<MudGrid Spacing="1" Class="marquee-container">

    <MudItem xs="12" sm="12">
        <div class="marque-heading mt-5 mb-3">
            <h2>Deal of the<br />month</h2>
        </div>
    </MudItem>
    <MudItem xs="12" sm="12" Class="mt-8">
        <div class="marquee">
            <div class="marquee-content">
               
                    <!-- First set of icons -->
                <MudStack Row="true" Spacing="4">
                    
                    <MudGrid Spacing="0" Class="Dealofmonth-box">
                        <MudItem xs="12" sm="12">
                            <img class="Dealofmonth-img mt-6" src="/images/web-content/reap-reward.png" />
                            <h6 class="Dealofmonth-heading mt-6">Share the Joy, Reap Rewards</h6>
                            <p class="Dealofmonth-para mt-3">Earn <span class="Dealofmonth-span">1,000 Gatherr Points</span>  for every successful referral</p>
                        </MudItem>

                        <MudItem sm="12" xs="12" Class="text-center">
                            <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="hero-btn-plan">Refer Now</MudButton>
                        </MudItem>
                    </MudGrid>

                    <MudGrid Spacing="0" Class="Dealofmonth-box">
                        <MudItem xs="12" sm="12">
                            <img class="Dealofmonth-img mt-6" src="/images/web-content/pay-less.png" />
                            <MudStack Row="true">
                                <h6 class="Dealofmonth-heading mt-2">Plan Ahead, Pay Less</h6>
                                <MudTooltip Text="thisistool">
                                    <MudIcon Class="mt-6" Icon="@Icons.Material.Filled.Icecream" />
                                </MudTooltip>
                            </MudStack>
                            <p class="Dealofmonth-para mt-3">Book 15+ days in advance and use code <span class="Dealofmonth-span"> ERLYBK15 </span> at checkout</p>
                            </MudItem>
                        <MudItem sm="12" xs="12" Class="text-center">
                            <MudButton Variant="Variant.Filled" Color="Color.Primary" Class="hero-btn-plan">Refer Now</MudButton>
                        </MudItem>

                    </MudGrid>


                </MudStack>
                

                <!-- duplicate entry-->
              
                     
                
            </div>
        </div>
        <div class="zig-indicators12 mt-8">
            @for (int i = 0; i < 3; i++)
            {
                <span class="zig-dot @(i == activeDot ? "active" : "")"></span>
            }
        </div>
    </MudItem>
</MudGrid>

@code {
    private int activeDot = 0;
    private System.Timers.Timer? _timer;

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {
            _timer = new System.Timers.Timer(14000); // ⏱ 3 sec
            _timer.Elapsed += (_, _) =>
            {
                activeDot = (activeDot + 1) % 3;
                InvokeAsync(StateHasChanged);
            };
            _timer.Start();
        }
    }

    public void Dispose()
    {
        _timer?.Dispose();
    }
}


<style>

    .marquee-container {
        position: relative;
    }

    .marquee {
        overflow: hidden;
        white-space: nowrap;
        width: 100%;
    }

    .marquee-content {
        display: inline-flex;
        animation: scroll 30s linear infinite;
    }

    .marque-heading {
        font-family: Playfair Display;
        font-weight: 400;
        font-style: Italic;
        font-size: 48px;
        line-height: 100%;
        letter-spacing: -0.96px;
        text-align: center;
        margin-bottom: 0px;
    }

    .Dealofmonth-box {
        width: 280px;
        height: 445px;
        background-color: #FFF;
        border-radius: 32px;
        padding-left: 24px;
    }

    .Dealofmonth-img {
        width: 190px;
        height: 195px;
    }

    .Dealofmonth-heading {
        color: #111;
        font-size: 24px;
        font-style: normal;
        font-weight: 600;
        line-height: normal;
        letter-spacing: -0.48px;
        width:161px;
        text-wrap:wrap;
    }

    .Dealofmonth-para {
        color: #333;
        font-size: 16px;
        font-style: normal;
        font-weight: 400;
        line-height: normal;
        letter-spacing: -0.32px;
        width: 208px;
        text-wrap: wrap;
    }

    .Dealofmonth-span {
        color: #333;
        font-size: 16px;
        font-style: normal;
        font-weight: 700;
        line-height: normal;
        letter-spacing: -0.32px;
    }
</style>



@code {
    private Breakpoint _currentBreakpoint;
    private List<CardModel>
    Cards = new()
    {
    new("Mark Roberts", "Working with DigitX was a pleasure. Their web design team created a stunning website that perfectly captured our brand's essence. The feedback from our customers has been overwhelmingly positive.","mark.png"),
    new("Jena Johns", "Working with DigitX was a pleasure. Their web design team created a stunning website that perfectly captured our brand's essence. The feedback from our customers has been overwhelmingly positive.","jena.png"),
        };

    private void OnBreakpointChanged(Breakpoint breakpoint)
    {
        _currentBreakpoint = breakpoint;
    }
    private List<List<CardModel>> GetSlides()
    {
        int cardsPerSlide = _currentBreakpoint < Breakpoint.Md ? 1 : 2;
        var slides = new List<List<CardModel>>();

        for (int i = 0; i < Cards.Count; i += cardsPerSlide)
        {
            slides.Add(Cards.Skip(i).Take(cardsPerSlide).ToList());
        }

        return slides;
    }
    public class CardModel
    {
        public string Title { get; set; }
        public string Description { get; set; }
        public string Picture { get; set; }

        public CardModel(string title, string description, string picture)
        {
            Title = title;
            Description = description;
            Picture = picture;
        }
    }
}
